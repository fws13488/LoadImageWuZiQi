document.getElementById("uploadForm").addEventListener("submit", function (event) {
    event.preventDefault();
    var fileInput = document.getElementById("imageInput");
    var file = fileInput.files[0];
    if (file) {
        var formData = new FormData();
        formData.append("image", file);

        var xhr = new XMLHttpRequest();
        xhr.open("POST", "/upload", true);
        xhr.onreadystatechange = function () {
            if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
                // Send the image data to Unity as a base64-encoded string
                Unity.SendMessage("ImageUploader", "UploadImageFromWebsite", xhr.responseText);
            }
        };
        xhr.responseType = "text";
        xhr.send(formData);
    }
});
